<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>图片预加载</title>
		<style type="text/css">           
            .div {
                width: 400px;
                height: 300px;
            }
            #div0 img, #div1 img {
                width: 100%;
                height: 100%;
            }
            #div0 { /* css控制图片预加载 */
                background-image: url('img/img.jpg');
                background-repeat: no-repeat;
                background-size: 0;
            }
		</style>
    </head>
    <body>
        <button id="cssPre">css预加载</button>
        <button id="jsPre">js预加载</button>
        <div id="div0" class="div"></div>
        <div id="div1" class="div"></div>
    </body>
</html>
<script type="text/javascript">
    var css_button = document.getElementById('cssPre');
    var js_button = document.getElementById('jsPre');
    // css控制图片预加载
    css_button.onclick = function () {
        // var css = window.getComputedStyle(div0)['background-size'];
        div0.style.backgroundSize = 'cover';
    }
    
    // js控制图片预加载
    preImg(div1);
    function preImg(dom) {
        var img = new Image();
        img.src = "img/img.jpg";
        js_button.onclick = function () {
            dom.appendChild(img);
        }
    }
</script>
