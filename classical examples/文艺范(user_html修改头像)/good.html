<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title></title>
<link rel="stylesheet" type="text/css" href="css/basic.css">
<link rel="stylesheet" type="text/css" href="lib/swiper/swiper.min.css">
<style type="text/css">
body{background: #f0f2f5;}
header{color: #ccc;overflow: hidden;box-shadow: 0px 0px 4px #303942;}
header>ul{background: #4b4c4e;overflow: hidden;}
header>ul li{float: left;height: 40px;line-height: 40px;margin: 0px 10px;}
header>ul .vip{color: #daa520;}
header>ul a{color: #ccc;}
nav{overflow: hidden;color: #303042;background: #fff;}
nav>ul{height: 100px;width: 1000px;margin: 0px auto;}
nav>ul li{float: left;height: 50px;line-height: 50px;margin: 20px 25px 20px 0px;}
nav .logo{width: 100px;}nav .logo img{width: 100px;height: 50px;}
nav .city{width: 100px;line-height: 25px;}nav .city img{width: 100px;height: 25px;}
nav .link{width: 500px;}nav .link a{display: inline-block;width: 20%;text-align: center;}
nav .search{width: 200px;}nav input{width: 200px;height: 30px;}
section{width: 1060px;margin:0px auto;overflow: hidden;padding: 40px 0px;}
.header{height: 205px;width: 1060px;margin: 0px auto;position: relative;z-index: -1;}
.h1{height: 120px;background: url('images/1.jpg') no-repeat;background-position: center center;background-size: cover;}
.h2{height: 85px;background: #fff;}
.h2 img{position: absolute;top: 80px;left: 20px;width: 100px;height: 100px;border-radius: 50%;}.user_info{margin-left: 135px;}
.h_username{line-height: 50px;height: 50px;font-size: 20px;}.h_nickname{font-size: 14px;}
.left{float: left;width: 700px;margin-right: 20px;background: #fff;}
.ltit{height: 48px;line-height: 48px;border-bottom: 2px solid #e8e8e8;padding-left: 40px;margin-bottom: 25px;}
.ltit a{display: inline-block;margin-right: 38px;font-size: 18px;}
.ltit a.active{border-bottom: 2px solid #e72418;}
.ltype{height: 35px;line-height: 33px;margin-left: 40px;font-size: 14px;margin-bottom: 60px;}
.ltype span{display: inline-block;margin-right: 11px;width: 44px;border: 1px solid #a7d8fb;text-align: center;}
.ltype span.active{background: #e8eaeb;}
.lmain{margin: 0px 25px 35px;}
.limg{height: 160px;text-align: center;}
.img_item{float: left;margin-right: 8px;}
.img_item img{width: 153px;height: 105px;border: 1px solid #e8e8e8;}
.img_item.at_last{margin: 0px;}
.limg_tit{margin-top: 20px;}
.left_list_item{padding: 25px 0px;border-top: 1px solid #f6f7f7;overflow: hidden;color: #999;}
.left_list_item img{width: 156px;height: 105px;border: 1px solid #e8e8e8;margin-right: 15px;float: left;}
.left_list_item h1{margin: 25px 0px 15px;color: #333;}
.page{margin: 0px 10px 12px;height: 26px;line-height: 24px;overflow: hidden;}
.page a{display: inline-block;border: 1px solid #ccc;padding: 0px 9px;margin-right: 6px;float: left;}
.page a.active{background: #1c82b7;border: 1px solid #1c82b7;color: #fff;}
.right{float: left;width: 340px;background: #fff;margin-top: 107px;}
.rtit{border-top: 2px solid #ed4040;padding-left: 20px;height: 44px;line-height: 44px;box-sizing: border-box;border-bottom: 2px solid #e9e9e9;font-size: 16px;}
.right_list{margin: 6px 20px 0px;}
.right_list_item{margin-bottom: 20px;overflow: hidden;color: #999;}
.right_list_item img{width: 118px;height: 70px;float: left;margin-right: 14px;}
.right_list_item .rli_title{line-height: 27px;color: #333;}
footer{height: 300px;background: #252525;color: #ccc;}
footer .main{width: 1000px;margin: 0px auto;padding-top: 50px;}
footer li{height: 40px}


/*左侧开始*/
			.read-list{
				/*padding-top: 30px;*/
				box-sizing: border-box;
				
			}
			.read-list .cell-box{
				width: 100%;
				overflow: hidden;
			}
			.read-list img{
				width: 240px;
				height: 140px;
				float: left;
			}
			.read-list .cell-title{
				margin-left: 260px;
			}
			.cell-box{
				margin-bottom: 30px;
			}
			.cell-box p{
				margin-left: 260px;
			}
			.cell-title{
				font-weight: bold;
				margin-bottom: 20px;
				font-size: 18px;
			}
			.shu{
				height: 40px;
				line-height: 40px;
				
			}
			.cell-fix{
				margin-left: 20px;
				font-size: 15px;
			}
			.cell-time{
				margin-left: 30px;
				
			}
			.cell-forward{
				margin-top: 15px;
			}
			/*左侧列表结束*、
			 * 
			 */
			/*分页开始*/
			
			.list-pagination{
				margin-top: 30px;
			}
			.list-pagination button{
				min-width: 20px;
				margin: 0 5px;
				display: inline-block;
				margin-bottom: 14px;
			}
			.list-pagination button.active{
				background-color: #aaa;
			}
			/*分页结束*/
			
			.right-content{
				width: 340px;
				float: right;
				margin-top: 17px;
			}
			.cell-box2{
				overflow: hidden;
				margin-bottom: 20px;
			}
			.cell-box2 img{
				width: 120px;
				height: 75px;
				float: left;
			}
			.cell-title2,.cell-forward2{
				margin-left: 10px;
				float: left;
				width: 190px;
				display: -webkit-box;
				-webkit-box-orient: vertical;
				-webkit-line-clamp: 2;
				overflow: hidden;
			}
			.cell-title2{
				margin-bottom: 10px;
			}
</style>
</head>
<body>
<header>
	<ul>
		<li>文艺范</li>
		<li>招商加盟</li>
		<li>iOS客户端</li>
		<li>Android客户端</li>
		<li>联系我们</li>
		<li>4008-900-800</li>
		<li class="fr"><span class="vip"><a href="user.html">VIP会员</a></span> <a href="login.html" id="lg">login.html</a>|<a href="register.html" id="lg2">register.html</a></li>
	</ul>
	<nav>
		<ul>
			<li class="logo"><img src="" alt="logo"></li>
			<li class="city"><img src="" alt="logo_2"><br><a>北京[切换城市]</a></li>
			<li class="link"><a href="index.html">首页</a><a href="read.html">阅读</a><a href="music.html">音乐</a><a href="movie.html">影视</a><a>商品</a></li>
			<li class="search"><input type="search" placeholder="search"></li>
		</ul>
	</nav>
</header>
<div class="header">
	<div class="h1"></div>
	<div class="h2"><img src=""><div class="user_info"><p class="h_username">username</p><p class="h_nickname">nickname</p></div></div>
</div>
<section>
	<div class="left">
		<div class="ltit"><a href="user_1.html">收藏</a><a href="user_2.html" class="active">点赞</a><a href="user_3.html">评论</a></div>
		
		
		<div class="read-list">
					
		</div>
		
		<div class="list-pagination">


		</div>
		
		
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="right">
		<li class="rtit">近期最佳文章</div>
		<div class="right-content">
			
		</div>
	</div>
</section>







<footer>
	<div class="main">
		<ul>
			<li>文艺范</li>
			<li>关于,用户协议,联系我们</li>
			<li>本站为文艺范官方网站</li>
			<li>浙ICP备15004498号-1</li>
		</ul>
	</div>
</footer>
<script type="text/javascript" src="lib/jquery.js"></script>
<script type="text/javascript" src="js/network/interface.js"></script>
<script type="text/javascript" src="js/network/api.js"></script>
<script type="text/javascript" src="lib/swiper/swiper.min.js"></script>
<script type="text/javascript">

		var page = 1;
			var count = 5;
			//通过接口修改值
			var pageCount  = 0;
			
			var api = new Api()
			
			//显示第几页的数据
			function showReadList(){
			
			
			//阅读列表
			//分页Step1: 修改getReadList,把total返回
				api.get_read_list(function (list,total) {
					
					
					var html = '';
					for(var i=0; i<list.length; i++){
						var item = list[i];
						
						
						html += '<div class="cell-box">'
						html += '<img src="'+imagePrefix+item.img_url+'" />'
						html += '<p class="cell-title">'+item.title+' 作者/'+item.author_name+'</p>';
						html += '<p class="shu">'
						html += '<span class="cell-fix">TAG</span>'
						html += '<span class="cell-time">'+item.post_date+'</span>'
						html += '</p>'
						html += '<p class="cell-forward">'+item.forward+'</p>'
						html += '</div>'
						
						
					}
					$(".left .read-list").html(html);
					
					
						//分页Step2: 计算显示多少页
						//显示总的页面
						pageCount = Math.ceil(total/count);
						
						
						//分页Step3: 根据页数 - 显示DOM
						//alert(pageCount)
						var html = '';
						html += '<button data-id="first">首页</button>';
						html += '<button data-id="prev">上一页</button>';
						for(var i=0; i<pageCount;i++){
							if(i+1 != page){
								html += '<button data-id="'+(i+1)+'">'+(i+1)+'</button>';
							}else{
								html += '<button class="active" data-id="'+(i+1)+'">'+(i+1)+'</button>';
							}
							
							
						}
						html += '<button data-id="next">下一页</button>';
						html += '<button data-id="last">最后一页</button>';
						$(".list-pagination").html(html);
						
						
						
						
						//分页Step4: 实现页数的点击事件
						$(".list-pagination button").click(function () {
							
							var dataId = $(this).attr("data-id");
							console.log("data-id = "+dataId)
							//alert(dataId)
							
						
							//分页Step5: 根据点击获取到新的页数
							var newPage = page;
							if(dataId=="first"){
								newPage = 1;
							}
							else if(dataId == "prev"){
								newPage--;
								if(newPage<1){
									newPage=1;
								}
							}else if(dataId == "next"){
								newPage++;
								if(newPage>pageCount){
									newPage=pageCount;
								}
							}else if(dataId == "last"){
								newPage=pageCount;
	
							}else{
								newPage = dataId;
							}
							
							
							
							console.log("page = "+page+" newPage="+newPage)
							if(page == newPage){
								return;
							}
							page = newPage;
							
							//分页Step6: 调用函数, 以前没有写成函数, 弄成函数
							showReadList();
							
						})
						
					
				},page,count);
			
			}
			showReadList();
			
			
			
			api.get_music_list(function (list,total) {
					
					
					var html = '';
					for(var i=0; i<list.length; i++){
						var item = list[i];
						
					
						html += '<div class="cell-box2">'
						html += '<img src="'+imagePrefix+item.img_url+'" />'
						html += '<p class="cell-title2">'+item.title+' 作者/'+item.author_name+'</p>';
					
						html += '<p class="cell-forward2">'+item.forward+'</p>'
						html += '</div>'
						
						
					}
					$(".right-content").html(html);	
					
				},1,7);	



			onkeyup=function(e){
				if(e.keyCode==13){
					localStorage.keyword=$('.search').children("input").val();
					location.href="search.html";
				}
			}
</script>
</body>
</html>